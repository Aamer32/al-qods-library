<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>مكتبة القدس الإلكترونية 📚</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 0;
      font-family: 'Tajawal', sans-serif;
      color: #333;
      background-color: #f2f7f9;
      line-height: 1.6;
    }
    header {
      background-color: #2c3e50;
      padding: 1.5rem;
      text-align: center;
      color: #ecf0f1;
    }
    header h1 {
      margin: 0;
      font-size: 2rem;
    }
    .container {
      max-width: 960px;
      margin: 2rem auto;
      padding: 0 1rem;
    }
    .book-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
    }
    .book-card {
      background: #ffffff;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
      overflow: hidden;
      transition: transform 0.2s;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    .book-card:hover {
      transform: translateY(-5px);
    }
    .book-card img {
      width: 100%;
      height: auto;
      max-height: 350px;
      object-fit: cover;
    }
    .book-details {
      padding: 1rem;
      flex: 1;
    }
    .book-details h2 {
      margin: 0 0 .5rem;
      font-size: 1.25rem;
      color: #2c3e50;
    }
    .buttons {
      margin-top: 1rem;
      display: flex;
      gap: .5rem;
      flex-wrap: wrap;
      justify-content: center;
    }
    .buttons a {
      text-decoration: none;
      padding: .6rem 1.2rem;
      border-radius: 6px;
      color: #fff;
      font-weight: 500;
      transition: background 0.3s;
    }
    .buttons .read { background-color: #2980b9; }
    .buttons .read:hover { background-color: #1f5f85; }
    .buttons .download { background-color: #27ae60; }
    .buttons .download:hover { background-color: #1f8447; }
    footer {
      text-align: center;
      padding: 1rem;
      font-size: .9rem;
      color: #777;
    }
    .star {
      font-size: 24px;
      cursor: pointer;
      color: gray;
    }
    .star.selected {
      color: gold;
    }
  </style>
</head>
<body>
  <header>
    <h1>📚 مكتبة القدس الإلكترونية</h1>
  </header>

  <main class="container">
    <section class="book-list">
      
      <!-- الكتب -->
      <!-- يمكنك تكرار الكود التالي لكل كتاب وتعديل المعلومات -->

      <!-- مثال: إيكادولي -->
      <article class="book-card">
        <img src="https://th.bing.com/th/id/OIP.yJxNH3GikPIxcAdQ85vskQHaKl?r=0" alt="غلاف كتاب إيكادولي">
        <div class="book-details">
          <h2>📖 إيكادولي</h2>
          <div class="rating" data-book="ikadoli">
            <span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span>
            <div class="rating-info" id="ikadoli-info"></div>
          </div>
          <div class="buttons">
            <a href="إيكادولي.pdf" class="read" target="_blank">قراءة الكتاب</a>
            <a href="إيكادولي.pdf" class="download" download>تحميل الكتاب</a>
          </div>
        </div>
      </article>

      <!-- أوبال -->
      <article class="book-card">
        <img src="https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1736849771i/38261280.jpg" alt="غلاف كتاب أوبال">
        <div class="book-details">
          <h2>📖 أوبال</h2>
          <div class="rating" data-book="opal">
            <span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span>
            <div class="rating-info" id="opal-info"></div>
          </div>
          <div class="buttons">
            <a href="أوبال.pdf" class="read" target="_blank">قراءة الكتاب</a>
            <a href="أوبال.pdf" class="download" download>تحميل الكتاب</a>
          </div>
        </div>
      </article>

      <!-- الجساسة -->
      <article class="book-card">
        <img src="https://th.bing.com/th/id/OIP.VSyny-2NqjCXgFX7wO0iUQAAAA?r=0" alt="غلاف كتاب الجساسة">
        <div class="book-details">
          <h2>📖 الجساسة</h2>
          <div class="rating" data-book="jasasa">
            <span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span>
            <div class="rating-info" id="jasasa-info"></div>
          </div>
          <div class="buttons">
            <a href="الجساسة.pdf" class="read" target="_blank">قراءة الكتاب</a>
            <a href="الجساسة.pdf" class="download" download>تحميل الكتاب</a>
          </div>
        </div>
      </article>

      <!-- سيروش -->
      <article class="book-card">
        <img src="https://th.bing.com/th/id/OIP.3EroTistDdiMnDbzPy1hRgHaLH?r=0" alt="غلاف كتاب سيروش">
        <div class="book-details">
          <h2>📖 سيروش</h2>
          <div class="rating" data-book="siroush">
            <span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span>
            <div class="rating-info" id="siroush-info"></div>
          </div>
          <div class="buttons">
            <a href="سيروش.pdf" class="read" target="_blank">قراءة الكتاب</a>
            <a href="سيروش.pdf" class="download" download>تحميل الكتاب</a>
          </div>
        </div>
      </article>

      <!-- سقطري -->
      <article class="book-card">
        <img src="https://th.bing.com/th/id/OIP.5LnYFQzK_yvjP3BpGVHiTwAAAA?w=115&h=180&c=7&r=0&o=7&dpr=1.3&pid=1.7&rm=3" alt="غلاف كتاب سقطري">
        <div class="book-details">
          <h2>📖 سقطري</h2>
          <div class="rating" data-book="soqotra">
            <span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span>
            <div class="rating-info" id="soqotra-info"></div>
          </div>
          <div class="buttons">
            <a href="سقطري.pdf" class="read" target="_blank">قراءة الكتاب</a>
            <a href="سقطري.pdf" class="download" download>تحميل الكتاب</a>
          </div>
        </div>
      </article>

      <!-- أمانوس -->
      <article class="book-card">
        <img src="https://th.bing.com/th/id/OIP.PMrSAZWyhbxeb8Ky61aAXwAAAA?w=119&h=180&c=7&r=0&o=7&dpr=1.3&pid=1.7&rm=3" alt="غلاف كتاب أمانوس">
        <div class="book-details">
          <h2>📖 أمانوس</h2>
          <div class="rating" data-book="amanos">
            <span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span>
            <div class="rating-info" id="amanos-info"></div>
          </div>
          <div class="buttons">
            <a href="أمانوس.pdf" class="read" target="_blank">قراءة الكتاب</a>
            <a href="أمانوس.pdf" class="download" download>تحميل الكتاب</a>
          </div>
        </div>
      </article>

    </section>
  </main>

  <footer>
    © 2025 مكتبة القدس الإلكترونية • جميع الحقوق محفوظة
  </footer>

  <script>
    function updateRatingInfo(bookKey) {
      const infoEl = document.getElementById(`${bookKey}-info`);
      const ratingData = JSON.parse(localStorage.getItem(`rating-${bookKey}`)) || { total: 0, count: 0 };
      const average = ratingData.count ? (ratingData.total / ratingData.count).toFixed(1) : 0;
      infoEl.textContent = `⭐ ${average} / 5 من ${ratingData.count} تقييمات`;
    }

    const ratings = document.querySelectorAll('.rating');
    ratings.forEach(ratingEl => {
      const bookKey = ratingEl.dataset.book;
      const stars = ratingEl.querySelectorAll('.star');

      stars.forEach((star, index) => {
        star.addEventListener('click', () => {
          const ratingValue = index + 1;
          let ratingData = JSON.parse(localStorage.getItem(`rating-${bookKey}`)) || { total: 0, count: 0 };
          ratingData.total += ratingValue;
          ratingData.count += 1;
          localStorage.setItem(`rating-${bookKey}`, JSON.stringify(ratingData));
          stars.forEach((s, i) => s.classList.toggle('selected', i < ratingValue));
          updateRatingInfo(bookKey);
        });
      });

      updateRatingInfo(bookKey);
    });
  </script>
</body>
</html>
